При подключении и взаимодействии с бд в MongoDB можно выделить следующие этапы:

Подключение к серверу
Получение объекта базы данных на сервере
Получение объекта коллекции в базе данных
Взаимодействие с коллекцией (добавление, удаление, получение, изменение данных)


последняя зависимость - "mongodb" как раз и представляет драйвер


///////////////////////////////////////////////////
Добавление и получение данных в MongoDB



ожно открыть бд через Mongo Atlas и там через графический интерфейс 


deleteMany(): удаляет все документы, которые соответствуют определенному критерию
deleteOne(): удаляет один документ, который соответствует определенному критерию
findOneAndDelete(): получает и удаляет один документ, который соответствует определенному критерию
drop(): удаляет всю коллекцию



Для обновления элементов в MongoDB есть несколько методов:

updateOne: обновляет один документ, который соответствует критерию фильтрации, и возвращает информацию об операции обновления
updateMany: обновляет все документы, которые соответствуют критерию фильтрации, и возвращает информацию об операции обновления
findOneAndUpdate: обновляет один документ, который соответствует критерию фильтрации, и возвращает обновленный документ


Mongoose представляет специальную ODM-библиотеку (Object Data Modelling) для работы с MongoDB, которая позволяет сопоставлять объекты классов и документы коллекций из базы данных. Грубо говоря, Mongoose работает подобно инструментам ORM. 
npm install mongoose --save


Определение типа
В качестве типа данных можно указывать одно из следующих значений:

String
Number
Date
Buffer
Boolean
Mixed
Objectid
Array
Decimal128
Map


Валидация
Mongoose имеет ряд встроенных правил валидации, которые мы можем указать в схеме:
required: требует обязательного наличия значения для свойства
min и max: задают минимальное и максимальное значения для числовых данных
minlength и maxlength: задают минимальную и максимальную длину для строк
enum: строка должна представлять одно из значений в указанном массиве строк
match: строка должна соответствовать регулярному выражению

Версия документа
По умолчанию при сохранении данных Mongoose добавляет специальное поле __v, которое указывает на версию документа:



CRUD в Mongoose
Получение данных
Для получения данных можно использовать целый набор методов:
find: возвращает все объекты, которые соответствуют критерию фильтрации
findById: возвращает один объект по значению поля _id
findOne: возвращает один объект, который соответствует критерию фильтрации



ля обновления данных в модели предусмотрены методы updateOne() и updateMany(). 


































