<!DOCTYPE html> 
<html>
<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title></title>
	<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
	<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
	<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>
	<div id="container"></div> 
	<script type="text/babel">
	////MobileList
	class MobileList extends React.Component {
		state = {
			list: { 
				name: "red",
			},
			
			array: [
            {
                name: "первый",
                selected: true,
            },
            {
                name: "второй",
                selected: false,
            },
            {
                name: "последний",
                selected: false,
            }
        ],
		}
		sumFunc = () => {
			console.log(this.state.list);
		}
		//!
		//в функции sumFunc будет уже обновленный state
		
		func0 = () => {
			let list = {name: "321"};
			this.setState({list});
			//this.setState({list: {name: "321"}}, ()=>this.sumFunc());
		}
		func1 = () => {
			this.setState({
				list: {...this.state.list, name: "green"}
			});
		}
		func2 = () => {
			this.setState({
				array: this.state.array.map((item, index) => {
					if(index === 0) {
						return {
							...item,
							name: "какой-то"
						}
					}
					return item;
				})
			});
		}
		func3 = () => {
			this.setState((state) => {
				let arr = this.state.array;
				arr[0] = {name: "wtf"};
				return {
					array: arr,
				}
			});
		}
		render() {
			
			
			return (
				<div>
					<div>{this.state.list.name}</div>
					<div>{this.state.array[0].name}</div>
					<input type="button" onClick={this.func0} value="321"/>
					<input type="button" onClick={this.func1} value="Change red"/>
					<input type="button" onClick={this.func2} value="Change name"/>
					<input type="button" onClick={this.func3} value="Change name2"/>
				</div>
			);
		}
	}
	////////////////App Js
		ReactDOM.render(
			<MobileList/>
			,document.getElementById('container')
		);
	</script>
</body> 
</html>